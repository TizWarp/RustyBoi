const PLAYER_X 0x8000
const PLAYER_y 0x8001

main:

CALL clear_screen
//CALL input
//CALL draw_player

JDRAW main

draw_player:

LOAD $7 PLAYER_Y
READ $0
LOAD $1 #1
MUL $1 $0 $0

LOAD $7 PLAYER_X
READ $1
LOAD $2 #360
MUL $1 $2 $1

LOAD $7 #34815
ADD $7 $0 $7
ADD $7 $1 $7

LOAD $0a #255
STORE $0a

RET


clear_screen:

LOAD $7 #34815
LOAD $6 #34815
LOAD $5 #1
LOAD $1a #255
loop:

STORE $1a
ADD $7 $5 $7

LES $6 $7
CJMP loop
RET


input:
LOAD $1 #5
LOAD $0b #1

LOAD $7 0x87FE
READ $0a

EQ $0a $0b
CCALL up_key

RET

up_key:
LOAD $7 PLAYER_X
READ $0
ADD $0 $1 $0
STORE $0
RET
